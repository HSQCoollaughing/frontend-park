{"version":3,"sources":["webpack://frontend-park-[name]/./src/views/three/controls.vue?1137","webpack://frontend-park-[name]/./src/views/three/controls.vue?d941","webpack://frontend-park-[name]/./node_modules/three/examples/jsm/controls/FlyControls.js","webpack://frontend-park-[name]/./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack://frontend-park-[name]/./node_modules/three/examples/jsm/loaders/OBJLoader.js","webpack://frontend-park-[name]/src/views/three/controls.vue","webpack://frontend-park-[name]/./src/views/three/controls.vue?3e64","webpack://frontend-park-[name]/./src/views/three/controls.vue"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","_changeEvent","type","object","domElement","super","undefined","console","warn","document","movementSpeed","rollSpeed","dragToLook","autoForward","scope","EPS","lastQuaternion","lastPosition","tmpQuaternion","mouseStatus","moveState","up","down","left","right","forward","back","pitchUp","pitchDown","yawLeft","yawRight","rollLeft","rollRight","moveVector","rotationVector","keydown","event","altKey","code","movementSpeedMultiplier","updateMovementVector","updateRotationVector","keyup","mousedown","button","mousemove","container","getContainerDimensions","halfWidth","size","halfHeight","pageX","offset","pageY","mouseup","update","delta","moveMult","rotMult","translateX","x","translateY","y","translateZ","z","set","normalize","quaternion","multiply","distanceToSquared","position","dot","dispatchEvent","copy","offsetWidth","offsetHeight","offsetLeft","offsetTop","window","innerWidth","innerHeight","dispose","removeEventListener","contextmenu","_mousedown","_mousemove","_mouseup","_keydown","_keyup","bind","addEventListener","preventDefault","_startEvent","_endEvent","error","style","touchAction","enabled","target","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TWO","DOLLY_PAN","target0","clone","position0","zoom0","zoom","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","getDistance","distanceTo","listenToKeyEvents","onKeyDown","saveState","reset","updateProjectionMatrix","state","STATE","NONE","quat","setFromUnitVectors","quatInverse","invert","twoPI","sub","applyQuaternion","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","min","max","isFinite","makeSafe","radius","scale","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","zoomChanged","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","onPointerMove","onPointerUp","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","isOrthographicCamera","clientWidth","top","bottom","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","subVectors","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","needsUpdate","handleTouchStartRotate","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","getSecondPointerPosition","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","setPointerCapture","pointerId","addPointer","pointerType","onTouchStart","onMouseDown","onTouchMove","onMouseMove","removePointer","releasePointerCapture","mouseAction","ctrlKey","metaKey","shiftKey","trackPointer","DOLLY_ROTATE","push","i","splice","pointer","passive","components","props","data","scene","camera","gui","renderer","plane","cube","sphere","flyControls","orbitControls","guiConfiguration","message","cubeSpeed","sphereInitVelocity","sphereAcceleration","checkBox","alert","sphere3Color","computed","watch","created","mounted","setTimeout","beforeRouteLeave","to","from","next","methods","onResize","init","attribute","options","color","castShadow","createRenderer","createLight","createAxes","createPlane","configGUI","f1","controller","getStats","stats","requestAnimationFrame","animate","createController","component"],"mappings":"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","file":"js/chunk-1d6e1f96.26cd7d1a.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controls.vue?vue&type=style&index=0&id=e0abc68a&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-container\"},[_c('div',{attrs:{\"id\":\"webgl-output\"}})])}]\n\nexport { render, staticRenderFns }","import {\n\tEventDispatcher,\n\tQuaternion,\n\tVector3\n} from 'three';\n\nconst _changeEvent = { type: 'change' };\n\nclass FlyControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.FlyControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\n\t\t// API\n\n\t\tthis.movementSpeed = 1.0;\n\t\tthis.rollSpeed = 0.005;\n\n\t\tthis.dragToLook = false;\n\t\tthis.autoForward = false;\n\n\t\t// disable default target object behavior\n\n\t\t// internals\n\n\t\tconst scope = this;\n\n\t\tconst EPS = 0.000001;\n\n\t\tconst lastQuaternion = new Quaternion();\n\t\tconst lastPosition = new Vector3();\n\n\t\tthis.tmpQuaternion = new Quaternion();\n\n\t\tthis.mouseStatus = 0;\n\n\t\tthis.moveState = { up: 0, down: 0, left: 0, right: 0, forward: 0, back: 0, pitchUp: 0, pitchDown: 0, yawLeft: 0, yawRight: 0, rollLeft: 0, rollRight: 0 };\n\t\tthis.moveVector = new Vector3( 0, 0, 0 );\n\t\tthis.rotationVector = new Vector3( 0, 0, 0 );\n\n\t\tthis.keydown = function ( event ) {\n\n\t\t\tif ( event.altKey ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ShiftLeft':\n\t\t\t\tcase 'ShiftRight': this.movementSpeedMultiplier = .1; break;\n\n\t\t\t\tcase 'KeyW': this.moveState.forward = 1; break;\n\t\t\t\tcase 'KeyS': this.moveState.back = 1; break;\n\n\t\t\t\tcase 'KeyA': this.moveState.left = 1; break;\n\t\t\t\tcase 'KeyD': this.moveState.right = 1; break;\n\n\t\t\t\tcase 'KeyR': this.moveState.up = 1; break;\n\t\t\t\tcase 'KeyF': this.moveState.down = 1; break;\n\n\t\t\t\tcase 'ArrowUp': this.moveState.pitchUp = 1; break;\n\t\t\t\tcase 'ArrowDown': this.moveState.pitchDown = 1; break;\n\n\t\t\t\tcase 'ArrowLeft': this.moveState.yawLeft = 1; break;\n\t\t\t\tcase 'ArrowRight': this.moveState.yawRight = 1; break;\n\n\t\t\t\tcase 'KeyQ': this.moveState.rollLeft = 1; break;\n\t\t\t\tcase 'KeyE': this.moveState.rollRight = 1; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\t\t\tthis.updateRotationVector();\n\n\t\t};\n\n\t\tthis.keyup = function ( event ) {\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ShiftLeft':\n\t\t\t\tcase 'ShiftRight': this.movementSpeedMultiplier = 1; break;\n\n\t\t\t\tcase 'KeyW': this.moveState.forward = 0; break;\n\t\t\t\tcase 'KeyS': this.moveState.back = 0; break;\n\n\t\t\t\tcase 'KeyA': this.moveState.left = 0; break;\n\t\t\t\tcase 'KeyD': this.moveState.right = 0; break;\n\n\t\t\t\tcase 'KeyR': this.moveState.up = 0; break;\n\t\t\t\tcase 'KeyF': this.moveState.down = 0; break;\n\n\t\t\t\tcase 'ArrowUp': this.moveState.pitchUp = 0; break;\n\t\t\t\tcase 'ArrowDown': this.moveState.pitchDown = 0; break;\n\n\t\t\t\tcase 'ArrowLeft': this.moveState.yawLeft = 0; break;\n\t\t\t\tcase 'ArrowRight': this.moveState.yawRight = 0; break;\n\n\t\t\t\tcase 'KeyQ': this.moveState.rollLeft = 0; break;\n\t\t\t\tcase 'KeyE': this.moveState.rollRight = 0; break;\n\n\t\t\t}\n\n\t\t\tthis.updateMovementVector();\n\t\t\tthis.updateRotationVector();\n\n\t\t};\n\n\t\tthis.mousedown = function ( event ) {\n\n\t\t\tif ( this.dragToLook ) {\n\n\t\t\t\tthis.mouseStatus ++;\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveState.forward = 1; break;\n\t\t\t\t\tcase 2: this.moveState.back = 1; break;\n\n\t\t\t\t}\n\n\t\t\t\tthis.updateMovementVector();\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.mousemove = function ( event ) {\n\n\t\t\tif ( ! this.dragToLook || this.mouseStatus > 0 ) {\n\n\t\t\t\tconst container = this.getContainerDimensions();\n\t\t\t\tconst halfWidth = container.size[ 0 ] / 2;\n\t\t\t\tconst halfHeight = container.size[ 1 ] / 2;\n\n\t\t\t\tthis.moveState.yawLeft = - ( ( event.pageX - container.offset[ 0 ] ) - halfWidth ) / halfWidth;\n\t\t\t\tthis.moveState.pitchDown = ( ( event.pageY - container.offset[ 1 ] ) - halfHeight ) / halfHeight;\n\n\t\t\t\tthis.updateRotationVector();\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.mouseup = function ( event ) {\n\n\t\t\tif ( this.dragToLook ) {\n\n\t\t\t\tthis.mouseStatus --;\n\n\t\t\t\tthis.moveState.yawLeft = this.moveState.pitchDown = 0;\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveState.forward = 0; break;\n\t\t\t\t\tcase 2: this.moveState.back = 0; break;\n\n\t\t\t\t}\n\n\t\t\t\tthis.updateMovementVector();\n\n\t\t\t}\n\n\t\t\tthis.updateRotationVector();\n\n\t\t};\n\n\t\tthis.update = function ( delta ) {\n\n\t\t\tconst moveMult = delta * scope.movementSpeed;\n\t\t\tconst rotMult = delta * scope.rollSpeed;\n\n\t\t\tscope.object.translateX( scope.moveVector.x * moveMult );\n\t\t\tscope.object.translateY( scope.moveVector.y * moveMult );\n\t\t\tscope.object.translateZ( scope.moveVector.z * moveMult );\n\n\t\t\tscope.tmpQuaternion.set( scope.rotationVector.x * rotMult, scope.rotationVector.y * rotMult, scope.rotationVector.z * rotMult, 1 ).normalize();\n\t\t\tscope.object.quaternion.multiply( scope.tmpQuaternion );\n\n\t\t\tif (\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS\n\t\t\t) {\n\n\t\t\t\tscope.dispatchEvent( _changeEvent );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tlastPosition.copy( scope.object.position );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.updateMovementVector = function () {\n\n\t\t\tconst forward = ( this.moveState.forward || ( this.autoForward && ! this.moveState.back ) ) ? 1 : 0;\n\n\t\t\tthis.moveVector.x = ( - this.moveState.left + this.moveState.right );\n\t\t\tthis.moveVector.y = ( - this.moveState.down + this.moveState.up );\n\t\t\tthis.moveVector.z = ( - forward + this.moveState.back );\n\n\t\t\t//console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\n\n\t\t};\n\n\t\tthis.updateRotationVector = function () {\n\n\t\t\tthis.rotationVector.x = ( - this.moveState.pitchDown + this.moveState.pitchUp );\n\t\t\tthis.rotationVector.y = ( - this.moveState.yawRight + this.moveState.yawLeft );\n\t\t\tthis.rotationVector.z = ( - this.moveState.rollRight + this.moveState.rollLeft );\n\n\t\t\t//console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\n\n\t\t};\n\n\t\tthis.getContainerDimensions = function () {\n\n\t\t\tif ( this.domElement != document ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tsize: [ this.domElement.offsetWidth, this.domElement.offsetHeight ],\n\t\t\t\t\toffset: [ this.domElement.offsetLeft, this.domElement.offsetTop ]\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\treturn {\n\t\t\t\t\tsize: [ window.innerWidth, window.innerHeight ],\n\t\t\t\t\toffset: [ 0, 0 ]\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu );\n\t\t\tthis.domElement.removeEventListener( 'mousedown', _mousedown );\n\t\t\tthis.domElement.removeEventListener( 'mousemove', _mousemove );\n\t\t\tthis.domElement.removeEventListener( 'mouseup', _mouseup );\n\n\t\t\twindow.removeEventListener( 'keydown', _keydown );\n\t\t\twindow.removeEventListener( 'keyup', _keyup );\n\n\t\t};\n\n\t\tconst _mousemove = this.mousemove.bind( this );\n\t\tconst _mousedown = this.mousedown.bind( this );\n\t\tconst _mouseup = this.mouseup.bind( this );\n\t\tconst _keydown = this.keydown.bind( this );\n\t\tconst _keyup = this.keyup.bind( this );\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\n\n\t\tthis.domElement.addEventListener( 'mousemove', _mousemove );\n\t\tthis.domElement.addEventListener( 'mousedown', _mousedown );\n\t\tthis.domElement.addEventListener( 'mouseup', _mouseup );\n\n\t\twindow.addEventListener( 'keydown', _keydown );\n\t\twindow.addEventListener( 'keyup', _keyup );\n\n\t\tthis.updateMovementVector();\n\t\tthis.updateRotationVector();\n\n\t}\n\n}\n\nfunction contextmenu( event ) {\n\n\tevent.preventDefault();\n\n}\n\nexport { FlyControls };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t    removePointer( event );\n\n\t\t    if ( pointers.length === 0 ) {\n\n\t\t        scope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t        scope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t        scope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t    }\n\n\t\t    scope.dispatchEvent( _endEvent );\n\n\t\t    state = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","import {\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tGroup,\n\tLineBasicMaterial,\n\tLineSegments,\n\tLoader,\n\tMaterial,\n\tMesh,\n\tMeshPhongMaterial,\n\tPoints,\n\tPointsMaterial,\n\tVector3\n} from 'three';\n\n// o object_name | g group_name\nconst _object_pattern = /^[og]\\s*(.+)?/;\n// mtllib file_reference\nconst _material_library_pattern = /^mtllib /;\n// usemtl material_name\nconst _material_use_pattern = /^usemtl /;\n// usemap map_name\nconst _map_use_pattern = /^usemap /;\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _ab = new Vector3();\nconst _cb = new Vector3();\n\nfunction ParserState() {\n\n\tconst state = {\n\t\tobjects: [],\n\t\tobject: {},\n\n\t\tvertices: [],\n\t\tnormals: [],\n\t\tcolors: [],\n\t\tuvs: [],\n\n\t\tmaterials: {},\n\t\tmaterialLibraries: [],\n\n\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\tthis.object.name = name;\n\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t\tthis.object = {\n\t\t\t\tname: name || '',\n\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\tgeometry: {\n\t\t\t\t\tvertices: [],\n\t\t\t\t\tnormals: [],\n\t\t\t\t\tcolors: [],\n\t\t\t\t\tuvs: [],\n\t\t\t\t\thasUVIndices: false\n\t\t\t\t},\n\t\t\t\tmaterials: [],\n\t\t\t\tsmooth: true,\n\n\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\tconst previous = this._finalize( false );\n\n\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst material = {\n\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\tconst cloned = {\n\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\treturn material;\n\n\t\t\t\t},\n\n\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t},\n\n\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\tconst lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\tfor ( let mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Inherit previous objects material.\n\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\tconst declared = previousMaterial.clone( 0 );\n\t\t\t\tdeclared.inherited = true;\n\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t}\n\n\t\t\tthis.objects.push( this.object );\n\n\t\t},\n\n\t\tfinalize: function () {\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t},\n\n\t\taddVertex: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddVertexPoint: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddVertexLine: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.normals;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddFaceNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\t_vA.fromArray( src, a );\n\t\t\t_vB.fromArray( src, b );\n\t\t\t_vC.fromArray( src, c );\n\n\t\t\t_cb.subVectors( _vC, _vB );\n\t\t\t_ab.subVectors( _vA, _vB );\n\t\t\t_cb.cross( _ab );\n\n\t\t\t_cb.normalize();\n\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\n\t\t},\n\n\t\taddColor: function ( a, b, c ) {\n\n\t\t\tconst src = this.colors;\n\t\t\tconst dst = this.object.geometry.colors;\n\n\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddUV: function ( a, b, c ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t},\n\n\t\taddDefaultUV: function () {\n\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\n\t\t},\n\n\t\taddUVLine: function ( a ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t},\n\n\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tlet ia = this.parseVertexIndex( a, vLen );\n\t\t\tlet ib = this.parseVertexIndex( b, vLen );\n\t\t\tlet ic = this.parseVertexIndex( c, vLen );\n\n\t\t\tthis.addVertex( ia, ib, ic );\n\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t// normals\n\n\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\tconst nLen = this.normals.length;\n\n\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\t\t\t\tib = this.parseNormalIndex( nb, nLen );\n\t\t\t\tic = this.parseNormalIndex( nc, nLen );\n\n\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t} else {\n\n\t\t\t\tthis.addFaceNormal( ia, ib, ic );\n\n\t\t\t}\n\n\t\t\t// uvs\n\n\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\n\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\tthis.object.geometry.hasUVIndices = true;\n\n\t\t\t} else {\n\n\t\t\t\t// add placeholder values (for inconsistent face definitions)\n\n\t\t\t\tthis.addDefaultUV();\n\n\t\t\t}\n\n\t\t},\n\n\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tconst index = this.parseVertexIndex( vertices[ vi ], vLen );\n\n\t\t\t\tthis.addVertexPoint( index );\n\t\t\t\tthis.addColor( index );\n\n\t\t\t}\n\n\t\t},\n\n\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\tconst vLen = this.vertices.length;\n\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t}\n\n\t\t\tfor ( let uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tstate.startObject( '', false );\n\n\treturn state;\n\n}\n\n//\n\nclass OBJLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.materials = null;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetMaterials( materials ) {\n\n\t\tthis.materials = materials;\n\n\t\treturn this;\n\n\t}\n\n\tparse( text ) {\n\n\t\tconst state = new ParserState();\n\n\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t}\n\n\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t}\n\n\t\tconst lines = text.split( '\\n' );\n\t\tlet line = '', lineFirstChar = '';\n\t\tlet lineLength = 0;\n\t\tlet result = [];\n\n\t\t// Faster to just trim left side of the line. Use if available.\n\t\tconst trimLeft = ( typeof ''.trimLeft === 'function' );\n\n\t\tfor ( let i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\tline = lines[ i ];\n\n\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\n\n\t\t\tlineLength = line.length;\n\n\t\t\tif ( lineLength === 0 ) continue;\n\n\t\t\tlineFirstChar = line.charAt( 0 );\n\n\t\t\t// @todo invoke passed in handler if any\n\t\t\tif ( lineFirstChar === '#' ) continue;\n\n\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\tconst data = line.split( /\\s+/ );\n\n\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( data.length >= 7 ) {\n\n\t\t\t\t\t\t\tstate.colors.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] )\n\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\n\n\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\tconst lineData = line.substr( 1 ).trim();\n\t\t\t\tconst vertexData = lineData.split( /\\s+/ );\n\t\t\t\tconst faceVertices = [];\n\n\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\tfor ( let j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst vertex = vertexData[ j ];\n\n\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\tconst vertexParts = vertex.split( '/' );\n\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\tconst v1 = faceVertices[ 0 ];\n\n\t\t\t\tfor ( let j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\tconst v2 = faceVertices[ j ];\n\t\t\t\t\tconst v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\tconst lineParts = line.substring( 1 ).trim().split( ' ' );\n\t\t\t\tlet lineVertices = [];\n\t\t\t\tconst lineUVs = [];\n\n\t\t\t\tif ( line.indexOf( '/' ) === - 1 ) {\n\n\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\tconst parts = lineParts[ li ].split( '/' );\n\n\t\t\t\t\t\tif ( parts[ 0 ] !== '' ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\tif ( parts[ 1 ] !== '' ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\tconst lineData = line.substr( 1 ).trim();\n\t\t\t\tconst pointData = lineData.split( ' ' );\n\n\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t} else if ( ( result = _object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t// o object_name\n\t\t\t\t// or\n\t\t\t\t// g group_name\n\n\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t// let name = result[ 0 ].substr( 1 ).trim();\n\t\t\t\tconst name = ( ' ' + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\n\n\t\t\t\tstate.startObject( name );\n\n\t\t\t} else if ( _material_use_pattern.test( line ) ) {\n\n\t\t\t\t// material\n\n\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t} else if ( _material_library_pattern.test( line ) ) {\n\n\t\t\t\t// mtl file\n\n\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t} else if ( _map_use_pattern.test( line ) ) {\n\n\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\n\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\n\n\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t// smooth shading\n\n\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\tconst value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst material = state.object.currentMaterial();\n\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t} else {\n\n\t\t\t\t// Handle null terminated files without exception\n\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.finalize();\n\n\t\tconst container = new Group();\n\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\tconst hasPrimitives = ! ( state.objects.length === 1 && state.objects[ 0 ].geometry.vertices.length === 0 );\n\n\t\tif ( hasPrimitives === true ) {\n\n\t\t\tfor ( let i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tconst object = state.objects[ i ];\n\t\t\t\tconst geometry = object.geometry;\n\t\t\t\tconst materials = object.materials;\n\t\t\t\tconst isLine = ( geometry.type === 'Line' );\n\t\t\t\tconst isPoints = ( geometry.type === 'Points' );\n\t\t\t\tlet hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tconst createdMaterials = [];\n\n\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\tconst materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\n\t\t\t\t\tlet material = state.materials[ materialHash ];\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialLine = new LineBasicMaterial();\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material === undefined ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\n\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// if there is only the default parser state object with no geometry data, interpret data as point cloud\n\n\t\t\tif ( state.vertices.length > 0 ) {\n\n\t\t\t\tconst material = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( state.vertices, 3 ) );\n\n\t\t\t\tif ( state.colors.length > 0 && state.colors[ 0 ] !== undefined ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( state.colors, 3 ) );\n\t\t\t\t\tmaterial.vertexColors = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst points = new Points( buffergeometry, material );\n\t\t\t\tcontainer.add( points );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn container;\n\n\t}\n\n}\n\nexport { OBJLoader };\n","<template>\r\n    <div class=\"page-container\">\r\n        <div id=\"webgl-output\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport * as THREE from \"three\";\r\nimport { FlyControls } from \"three/examples/jsm/controls/FlyControls\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader.js\";\r\nimport * as dat from \"dat.gui\";\r\nimport * as Stats from \"stats.js\";\r\nimport createGeometry from \"./utils/createGeometry\";\r\nexport default {\r\n    components: {},\r\n    props: {},\r\n    data() {\r\n        return {\r\n            scene: null,\r\n            camera: null,\r\n            gui: null,\r\n            renderer: null,\r\n            plane: null,\r\n            cube: null,\r\n            sphere: null,\r\n            flyControls: null,\r\n            orbitControls: null,\r\n            guiConfiguration: {\r\n                message: \"WASD加鼠标滚轮控制!\",\r\n                cubeSpeed: 0.03,\r\n                sphereInitVelocity: 0.03,\r\n                sphereAcceleration: 0.04,\r\n                checkBox: false,\r\n                button() {\r\n                    alert(\"关注公众号：前端超人\");\r\n                },\r\n                sphere3Color: \"#ffae23\",\r\n            },\r\n        };\r\n    },\r\n    computed: {},\r\n    watch: {},\r\n    created() {},\r\n    mounted() {\r\n        this.init();\r\n        this.animate();\r\n        this.configGUI();\r\n        setTimeout(() => {\r\n            document.querySelector('.dg').style = \"margin-top:calc(100vh - 0px);\";\r\n            window.addEventListener('resize',this.onResize,false);\r\n        }, 1000);\r\n    },\r\n    beforeRouteLeave(to, from, next) {\r\n        console.log(123);\r\n        this.gui.domElement.style.display = \"none\";\r\n        next();\r\n    },\r\n\r\n    methods: {\r\n        onResize(){\r\n            this.camera.aspect=window.innerWidth / (window.innerHeight - 60);\r\n            this.camera.updateProjectionMatrix();\r\n            this.renderer.setSize(window.innerWidth , (window.innerHeight - 60))\r\n        },\r\n        init() {\r\n            //定义场景\r\n            this.scene = new THREE.Scene();\r\n            //给场景添加雾化效果\r\n            // this.scene.fog = new THREE.Fog(0x123, 5, 10);\r\n            this.scene.fog = new THREE.FogExp2(0xffffff, 0.004);\r\n            //定义摄像机\r\n            this.camera = new THREE.PerspectiveCamera(\r\n                45,\r\n                window.innerWidth / (window.innerHeight - 60),\r\n                0.1,\r\n                1000,\r\n            );\r\n\r\n            //创建坐标系\r\n            this.createAxes();\r\n            //创建平面\r\n            this.createPlane();\r\n            //创建光源\r\n            this.createLight();\r\n            //创建渲染器,放最后\r\n            this.createRenderer();\r\n            this.getStats();\r\n            this.createController();\r\n            //创建立方体\r\n            this.cube = createGeometry(\r\n                this.scene,\r\n                {\r\n                    type: \"BoxGeometry\",\r\n                    attribute: [5, 5, 5],\r\n                },\r\n                { type: \"MeshLambertMaterial\", options: { color: 0xff0000 } },\r\n                {\r\n                    position: [0, 4, 0],\r\n                    castShadow: true,\r\n                },\r\n            );\r\n            this.cube.name = \"cube\";\r\n            //创建球体\r\n            this.sphere = createGeometry(\r\n                this.scene,\r\n                {\r\n                    type: \"SphereGeometry\",\r\n                    attribute: [3, 20, 20],\r\n                },\r\n                { type: \"MeshLambertMaterial\", options: { color: 0x7777ff } },\r\n                {\r\n                    position: [-15, 3, 10],\r\n                    castShadow: true,\r\n                },\r\n            );\r\n        },\r\n\r\n        // 创建渲染器\r\n        createRenderer() {\r\n            this.renderer = new THREE.WebGLRenderer();\r\n            //设置场景的背景颜色\r\n            this.renderer.setClearColor(new THREE.Color(0x000000));\r\n            //设置场景大小\r\n            this.renderer.setSize(window.innerWidth, window.innerHeight - 60);\r\n            //设置相机位置(x,y,z)\r\n            this.camera.position.set(-100, 40, 100);\r\n            // 通过lookAt将摄像机指向场景中心,(默认指向0,0,0)\r\n            this.camera.lookAt(this.scene.position);\r\n            //开启阴影\r\n            this.renderer.shadowMap.enabled = true;\r\n            // 将渲染结果添加到dom元素中\r\n            document.getElementById(\"webgl-output\").appendChild(this.renderer.domElement);\r\n            //使用指定的摄像机来渲染场景\r\n            this.renderer.render(this.scene, this.camera);\r\n        },\r\n        //创建光源\r\n        createLight() {\r\n            /* 需要注意的是：MeshBasicMaterial材质不会对光源有任何反应，基本材质只会使用指定的颜色来渲染物体 */\r\n            //定义光源\r\n            this.spotLight = new THREE.SpotLight(0xffffff);\r\n            //设置光源位置\r\n            this.spotLight.position.set(100, 150, 70);\r\n            // 启用阴影功能\r\n            this.spotLight.castShadow = true;\r\n            //将光源添加进场景\r\n            this.scene.add(this.spotLight);\r\n        },\r\n        // 创建坐标系\r\n        createAxes() {\r\n            //创建坐标系,设置轴线粗细值为20\r\n            this.axes = new THREE.AxesHelper(20);\r\n            //将轴线添加到场景中\r\n            this.scene.add(this.axes);\r\n        },\r\n        //创建平面\r\n        createPlane() {\r\n            //定义平面的大小\r\n            let planeGeometry = new THREE.PlaneGeometry(250, 250);\r\n            // 通过创建材质对象来设置平面的外观,这里使用的是基本材质\r\n            let planeMaterial = new THREE.MeshLambertMaterial({\r\n                color: 0xaaaaaa,\r\n            });\r\n            //将大小和外观组合进Mesh对象,赋值给平面对象\r\n            this.plane = new THREE.Mesh(planeGeometry, planeMaterial);\r\n            //平面绕x轴旋转九十度\r\n            this.plane.rotation.x = -0.5 * Math.PI;\r\n            // 定义其在场景中的位置\r\n            this.plane.position.set(0, 0, 0);\r\n            //接收光源\r\n            this.plane.receiveShadow = true;\r\n            //添加平面到场景中\r\n            this.scene.add(this.plane);\r\n        },\r\n\r\n        //配置dat.gui\r\n        configGUI() {\r\n            this.gui = new dat.GUI();\r\n            this.gui.add(this.guiConfiguration, \"message\");\r\n            this.gui.add(this.guiConfiguration, \"cubeSpeed\", 0, 0.5);\r\n            this.gui.add(this.guiConfiguration, \"sphereInitVelocity\", -1, 1);\r\n            this.gui.add(this.guiConfiguration, \"sphereAcceleration\", 0, 1);\r\n            this.gui.add(this.guiConfiguration, \"checkBox\");\r\n            this.gui.add(this.guiConfiguration, \"button\").name(\"点我\");\r\n\r\n            var f1 = this.gui.addFolder(\"球的颜色\");\r\n            let controller = f1.addColor(this.guiConfiguration, \"sphere3Color\").name(\"CSS颜色值\");\r\n            //第二个分组默认打开\r\n            this.gui.domElement.style = \"position:absolute;bottom:20px;right:0px\";\r\n            f1.open();\r\n            //对应控制项值修改完毕响应\r\n            controller.onFinishChange((val) => {\r\n                console.log(\"🚀🚀🚀 / val\", val);\r\n                // this.sphere3.color.set(val);\r\n                this.scene.remove(this.sphere3);\r\n            });\r\n        },\r\n        //获取pfs状态\r\n        getStats() {\r\n            var stats = new Stats();\r\n            stats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom\r\n            document.querySelector(\".page-container\").appendChild(stats.dom);\r\n            stats.domElement.style = \"position:absolute;bottom:0px;left:0px\";\r\n            function animate() {\r\n                stats.begin();\r\n                // monitored code goes here\r\n                stats.end();\r\n                requestAnimationFrame(animate);\r\n            }\r\n            requestAnimationFrame(animate);\r\n        },\r\n        //执行动画\r\n        animate() {\r\n            this.cube.rotation.x += this.guiConfiguration.cubeSpeed;\r\n            this.cube.rotation.y += this.guiConfiguration.cubeSpeed;\r\n            this.cube.rotation.z += this.guiConfiguration.cubeSpeed;\r\n            this.guiConfiguration.sphereInitVelocity += this.guiConfiguration.sphereAcceleration;\r\n            this.sphere.position.x = 20 * Math.cos(this.guiConfiguration.sphereInitVelocity);\r\n            this.sphere.position.z = 20 * Math.sin(this.guiConfiguration.sphereInitVelocity);\r\n\r\n            this.renderer.render(this.scene, this.camera);\r\n            this.orbitControls.update();\r\n            this.flyControls.update(0.01);\r\n            requestAnimationFrame(this.animate);\r\n        },\r\n        //创建控制器\r\n        createController() {\r\n            // 创建轨道控制器\r\n            this.orbitControls = new OrbitControls(this.camera, this.renderer.domElement);\r\n            // 移动控制器\r\n            this.flyControls = new FlyControls(this.camera, this.renderer.domElement);\r\n            this.flyControls.movementSpeed = 100;\r\n            this.flyControls.rollSpeed = Math.PI / 24;\r\n            this.flyControls.autoForward = false;\r\n            this.flyControls.dragToLook = true;\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page-container {\r\n    // position: relative;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./controls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./controls.vue?vue&type=template&id=e0abc68a&scoped=true&\"\nimport script from \"./controls.vue?vue&type=script&lang=js&\"\nexport * from \"./controls.vue?vue&type=script&lang=js&\"\nimport style0 from \"./controls.vue?vue&type=style&index=0&id=e0abc68a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0abc68a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}